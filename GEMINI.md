# Gemini 프로젝트: 던전 크롤러

이 파일은 Gemini AI 에이전트가 이 파이썬 기반 던전 크롤러 게임 개발을 효과적으로 지원하기 위한 지침을 제공합니다.

## 프로젝트 개요

이것은 클래식한 터미널 기반 로그라이크 게임입니다. 주 진입점은 `dungeon/Start.py`이며, 게임 로직은 `dungeon/` 디렉토리 내의 여러 모듈(player, map, combat, UI 등)로 분리되어 있습니다.

## 주요 파일

-   `dungeon/Start.py`: 주 진입점, 게임 시작 및 메인 메뉴 처리.
-   `dungeon/game.py`: 메인 게임 루프 포함.
-   `dungeon/player.py`: `Player` 클래스 정의.
-   `dungeon/dungeon_map.py`: `DungeonMap` 클래스 정의.
-   `dungeon/ui.py`: ANSI 이스케이프 코드를 사용하여 모든 터미널 UI 렌더링 처리.
-   `dungeon/data_manager.py`: 텍스트 파일에서 아이템과 같은 게임 데이터 로드.
-   `game_data/`: 게임 저장 파일(JSON)이 저장되는 디렉토리.

## 개발 가이드라인

-   **코딩 스타일**: 파이썬 코드에 대해 PEP 8 표준을 준수합니다. 가능하다면 `black`과 같은 자동 포맷터를 사용하세요.
-   **의존성**: 이 프로젝트는 `readchar` 라이브러리를 사용합니다. 현재 다른 외부 라이브러리는 필요하지 않습니다.
-   **UI**: 모든 UI 구성 요소는 `dungeon/ui.py`에서 렌더링됩니다. 게임의 외형 변경은 해당 파일에서 이루어져야 합니다. UI는 화면 깜빡임을 최소화하기 위해 더블 버퍼링 기술을 사용합니다.
-   **게임 데이터**: 플레이어 및 맵 데이터는 `game_data/` 디렉토리에 JSON 파일로 저장됩니다. 저장 파일과의 하위 호환성을 유지하기 위해 `player.py` 및 `dungeon_map.py`의 `to_dict` 및 `from_dict` 메서드를 수정할 때 주의해야 합니다.

## 일반적인 명령어

-   **게임 실행**:
    ```bash
    python3 /home/dogsinatas/python_project/dungeon/Start.py
    ```
-   **저장 데이터 삭제**:
    ```bash
    rm -rf /home/dogsinatas/python_project/dungeon/game_data/*
    ```

## 에이전트 지침

-   코드를 수정할 때 항상 다른 모듈 간의 관심사 분리를 유지하세요.
-   UI를 변경하기 전에 `dungeon/ui.py`를 검토하여 더블 버퍼링 및 렌더링 로직을 이해하세요.
-   새로운 게임 기능(예: 새 아이템, 스킬)을 추가할 때 데이터 로딩(`data_manager.py`) 및 게임 루프(`game.py`)와 올바르게 통합되었는지 확인하세요.
-   **언어**: 모든 대화는 **한글**로 진행합니다.

---

## 게임 디자인 명세 (추가사항)

이 섹션은 `추가사항.txt`에서 정리된 게임의 상세 기획 내용을 포함합니다.

### 1. 전투 시스템 (Combat System)
*   **공격 형태**:
    *   근접: 바로 앞의 적 공격.
    *   원거리: 전방 발사형, 사방 발사형 등 사거리 존재.
*   **방어 형태**:
    *   쉴드 개념 및 속성 방어 도입.
*   **회복 시스템**:
    *   체력(HP) 회복, 마력(MP) 회복으로 구분.

### 2. 속성 시스템 (Elemental System)
*   **상성 관계 (우로보로스 형태)**:
    *   물 > 불 > 나무 > 흙 > 물
    *   상성 우위 공격 시: 공격력 + 보정치
    *   상성 열위 공격 시: 방어력 + 보정치 (데미지 감소)
*   **기타 속성**:
    *   독(Poison): 상성 무관, 지속 데미지 등 특수 효과.
*   **속성 색상**:
    *   물: 파란색 (Blue)
    *   불: 붉은색 (Red)
    *   나무: 녹색 (Green)
    *   흙: 노란색 (Yellow)
    *   독: 보라색 (Purple)

### 3. 아이템 및 강화 (Items & Enhancement)
*   **파밍 시스템**:
    *   핵 앤 슬래시 스타일 파밍 (랜덤 옵션, 등급).
    *   등급: 일반, 마법, 희귀, 고유, 세트 등.
*   **강화 시스템**:
    *   내구도 없음, 대신 +1 ~ +9 강화 존재.
    *   강화 수치에 따른 접두사 변화:
        *   +5: 화염의, 호수의, 거목의, 대륙의, 맹독의
        *   +8: ...
        *   +9: 폭염의, 대양의, 세계수의, 대지의, 절명의
    *   **강화 상점**: 맵 내에 존재하는 강화소에서 강화 가능.
*   **화폐**: 골드(Gold) 시스템 도입 (UI 표시 필요).

### 4. 캐릭터 및 직업 (Character & Class)
*   **직업 시스템**:
    *   가장 높은 레벨의 스킬에 따라 직업이 유동적으로 결정됨.
    *   예: 검 스킬 위주 -> 검사, 회복 스킬 위주 -> 회복술사.
*   **스탯 (Status)**:
    *   체력 (HP)
    *   마력 (MP)
    *   **스테미너 (Stamina)**:
        *   이동 20칸마다 1 소모.
        *   일부 스킬 사용 시 소모.
        *   0이 되면 사망 가능.
        *   식량 섭취로 회복.

### 5. UI 및 인터페이스 (Game Interface)
*   **메인 인터페이스 (하단/사이드)**:
    *   현재 위치
    *   HP / MP / Stamina (필수 표시)
    *   레벨 / 경험치 / 직업
    *   골드 (화폐)
*   **인벤토리**:
    *   `i` 키로 팝업.
    *   장비 및 아이템 관리.

### 6. 로그라이크 요소 (Roguelike Elements)
*   **영구 사망 (Perma-death)**.
*   **절차적 생성 던전**.
*   **자원 관리**: 식량(스테미너), 인벤토리 제한.
*   **상점 및 강화**: 던전 내에서 만나는 상점과 강화소.